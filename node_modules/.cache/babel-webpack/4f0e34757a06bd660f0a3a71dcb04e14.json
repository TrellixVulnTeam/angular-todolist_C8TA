{"ast":null,"code":"'use strict';\n/**\n * @license Angular v12.0.0-next.0\n * (c) 2010-2020 Google LLC. https://angular.io/\n * License: MIT\n */\n\n(function (factory) {\n  typeof define === 'function' && define.amd ? define(factory) : factory();\n})(function () {\n  'use strict';\n  /**\n   * @license\n   * Copyright Google LLC All Rights Reserved.\n   *\n   * Use of this source code is governed by an MIT-style license that can be\n   * found in the LICENSE file at https://angular.io/license\n   */\n\n  Zone.__load_patch('jasmine', function (global, Zone, api) {\n    var __extends = function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\n      function __() {\n        this.constructor = d;\n      }\n\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }; // Patch jasmine's describe/it/beforeEach/afterEach functions so test code always runs\n    // in a testZone (ProxyZone). (See: angular/zone.js#91 & angular/angular#10503)\n\n\n    if (!Zone) throw new Error('Missing: zone.js');\n\n    if (typeof jest !== 'undefined') {\n      // return if jasmine is a light implementation inside jest\n      // in this case, we are running inside jest not jasmine\n      return;\n    }\n\n    if (typeof jasmine == 'undefined' || jasmine['__zone_patch__']) {\n      return;\n    }\n\n    jasmine['__zone_patch__'] = true;\n    var SyncTestZoneSpec = Zone['SyncTestZoneSpec'];\n    var ProxyZoneSpec = Zone['ProxyZoneSpec'];\n    if (!SyncTestZoneSpec) throw new Error('Missing: SyncTestZoneSpec');\n    if (!ProxyZoneSpec) throw new Error('Missing: ProxyZoneSpec');\n    var ambientZone = Zone.current; // Create a synchronous-only zone in which to run `describe` blocks in order to raise an\n    // error if any asynchronous operations are attempted inside of a `describe` but outside of\n    // a `beforeEach` or `it`.\n\n    var syncZone = ambientZone.fork(new SyncTestZoneSpec('jasmine.describe'));\n    var symbol = Zone.__symbol__; // whether patch jasmine clock when in fakeAsync\n\n    var disablePatchingJasmineClock = global[symbol('fakeAsyncDisablePatchingClock')] === true; // the original variable name fakeAsyncPatchLock is not accurate, so the name will be\n    // fakeAsyncAutoFakeAsyncWhenClockPatched and if this enablePatchingJasmineClock is false, we also\n    // automatically disable the auto jump into fakeAsync feature\n\n    var enableAutoFakeAsyncWhenClockPatched = !disablePatchingJasmineClock && (global[symbol('fakeAsyncPatchLock')] === true || global[symbol('fakeAsyncAutoFakeAsyncWhenClockPatched')] === true);\n    var ignoreUnhandledRejection = global[symbol('ignoreUnhandledRejection')] === true;\n\n    if (!ignoreUnhandledRejection) {\n      var globalErrors_1 = jasmine.GlobalErrors;\n\n      if (globalErrors_1 && !jasmine[symbol('GlobalErrors')]) {\n        jasmine[symbol('GlobalErrors')] = globalErrors_1;\n\n        jasmine.GlobalErrors = function () {\n          var instance = new globalErrors_1();\n          var originalInstall = instance.install;\n\n          if (originalInstall && !instance[symbol('install')]) {\n            instance[symbol('install')] = originalInstall;\n\n            instance.install = function () {\n              var originalHandlers = process.listeners('unhandledRejection');\n              var r = originalInstall.apply(this, arguments);\n              process.removeAllListeners('unhandledRejection');\n\n              if (originalHandlers) {\n                originalHandlers.forEach(function (h) {\n                  return process.on('unhandledRejection', h);\n                });\n              }\n\n              return r;\n            };\n          }\n\n          return instance;\n        };\n      }\n    } // Monkey patch all of the jasmine DSL so that each function runs in appropriate zone.\n\n\n    var jasmineEnv = jasmine.getEnv();\n    ['describe', 'xdescribe', 'fdescribe'].forEach(function (methodName) {\n      var originalJasmineFn = jasmineEnv[methodName];\n\n      jasmineEnv[methodName] = function (description, specDefinitions) {\n        return originalJasmineFn.call(this, description, wrapDescribeInZone(specDefinitions));\n      };\n    });\n    ['it', 'xit', 'fit'].forEach(function (methodName) {\n      var originalJasmineFn = jasmineEnv[methodName];\n      jasmineEnv[symbol(methodName)] = originalJasmineFn;\n\n      jasmineEnv[methodName] = function (description, specDefinitions, timeout) {\n        arguments[1] = wrapTestInZone(specDefinitions);\n        return originalJasmineFn.apply(this, arguments);\n      };\n    });\n    ['beforeEach', 'afterEach', 'beforeAll', 'afterAll'].forEach(function (methodName) {\n      var originalJasmineFn = jasmineEnv[methodName];\n      jasmineEnv[symbol(methodName)] = originalJasmineFn;\n\n      jasmineEnv[methodName] = function (specDefinitions, timeout) {\n        arguments[0] = wrapTestInZone(specDefinitions);\n        return originalJasmineFn.apply(this, arguments);\n      };\n    });\n\n    if (!disablePatchingJasmineClock) {\n      // need to patch jasmine.clock().mockDate and jasmine.clock().tick() so\n      // they can work properly in FakeAsyncTest\n      var originalClockFn_1 = jasmine[symbol('clock')] = jasmine['clock'];\n\n      jasmine['clock'] = function () {\n        var clock = originalClockFn_1.apply(this, arguments);\n\n        if (!clock[symbol('patched')]) {\n          clock[symbol('patched')] = symbol('patched');\n          var originalTick_1 = clock[symbol('tick')] = clock.tick;\n\n          clock.tick = function () {\n            var fakeAsyncZoneSpec = Zone.current.get('FakeAsyncTestZoneSpec');\n\n            if (fakeAsyncZoneSpec) {\n              return fakeAsyncZoneSpec.tick.apply(fakeAsyncZoneSpec, arguments);\n            }\n\n            return originalTick_1.apply(this, arguments);\n          };\n\n          var originalMockDate_1 = clock[symbol('mockDate')] = clock.mockDate;\n\n          clock.mockDate = function () {\n            var fakeAsyncZoneSpec = Zone.current.get('FakeAsyncTestZoneSpec');\n\n            if (fakeAsyncZoneSpec) {\n              var dateTime = arguments.length > 0 ? arguments[0] : new Date();\n              return fakeAsyncZoneSpec.setFakeBaseSystemTime.apply(fakeAsyncZoneSpec, dateTime && typeof dateTime.getTime === 'function' ? [dateTime.getTime()] : arguments);\n            }\n\n            return originalMockDate_1.apply(this, arguments);\n          }; // for auto go into fakeAsync feature, we need the flag to enable it\n\n\n          if (enableAutoFakeAsyncWhenClockPatched) {\n            ['install', 'uninstall'].forEach(function (methodName) {\n              var originalClockFn = clock[symbol(methodName)] = clock[methodName];\n\n              clock[methodName] = function () {\n                var FakeAsyncTestZoneSpec = Zone['FakeAsyncTestZoneSpec'];\n\n                if (FakeAsyncTestZoneSpec) {\n                  jasmine[symbol('clockInstalled')] = 'install' === methodName;\n                  return;\n                }\n\n                return originalClockFn.apply(this, arguments);\n              };\n            });\n          }\n        }\n\n        return clock;\n      };\n    } // monkey patch createSpyObj to make properties enumerable to true\n\n\n    if (!jasmine[Zone.__symbol__('createSpyObj')]) {\n      var originalCreateSpyObj_1 = jasmine.createSpyObj;\n      jasmine[Zone.__symbol__('createSpyObj')] = originalCreateSpyObj_1;\n\n      jasmine.createSpyObj = function () {\n        var args = Array.prototype.slice.call(arguments);\n        var propertyNames = args.length >= 3 ? args[2] : null;\n        var spyObj;\n\n        if (propertyNames) {\n          var defineProperty_1 = Object.defineProperty;\n\n          Object.defineProperty = function (obj, p, attributes) {\n            return defineProperty_1.call(this, obj, p, Object.assign(Object.assign({}, attributes), {\n              configurable: true,\n              enumerable: true\n            }));\n          };\n\n          try {\n            spyObj = originalCreateSpyObj_1.apply(this, args);\n          } finally {\n            Object.defineProperty = defineProperty_1;\n          }\n        } else {\n          spyObj = originalCreateSpyObj_1.apply(this, args);\n        }\n\n        return spyObj;\n      };\n    }\n    /**\n     * Gets a function wrapping the body of a Jasmine `describe` block to execute in a\n     * synchronous-only zone.\n     */\n\n\n    function wrapDescribeInZone(describeBody) {\n      return function () {\n        return syncZone.run(describeBody, this, arguments);\n      };\n    }\n\n    function runInTestZone(testBody, applyThis, queueRunner, done) {\n      var isClockInstalled = !!jasmine[symbol('clockInstalled')];\n      var testProxyZoneSpec = queueRunner.testProxyZoneSpec;\n      var testProxyZone = queueRunner.testProxyZone;\n\n      if (isClockInstalled && enableAutoFakeAsyncWhenClockPatched) {\n        // auto run a fakeAsync\n        var fakeAsyncModule = Zone[Zone.__symbol__('fakeAsyncTest')];\n\n        if (fakeAsyncModule && typeof fakeAsyncModule.fakeAsync === 'function') {\n          testBody = fakeAsyncModule.fakeAsync(testBody);\n        }\n      }\n\n      if (done) {\n        return testProxyZone.run(testBody, applyThis, [done]);\n      } else {\n        return testProxyZone.run(testBody, applyThis);\n      }\n    }\n    /**\n     * Gets a function wrapping the body of a Jasmine `it/beforeEach/afterEach` block to\n     * execute in a ProxyZone zone.\n     * This will run in `testProxyZone`. The `testProxyZone` will be reset by the `ZoneQueueRunner`\n     */\n\n\n    function wrapTestInZone(testBody) {\n      // The `done` callback is only passed through if the function expects at least one argument.\n      // Note we have to make a function with correct number of arguments, otherwise jasmine will\n      // think that all functions are sync or async.\n      return testBody && (testBody.length ? function (done) {\n        return runInTestZone(testBody, this, this.queueRunner, done);\n      } : function () {\n        return runInTestZone(testBody, this, this.queueRunner);\n      });\n    }\n\n    var QueueRunner = jasmine.QueueRunner;\n\n    jasmine.QueueRunner = function (_super) {\n      __extends(ZoneQueueRunner, _super);\n\n      function ZoneQueueRunner(attrs) {\n        var _this = this;\n\n        if (attrs.onComplete) {\n          attrs.onComplete = function (fn) {\n            return function () {\n              // All functions are done, clear the test zone.\n              _this.testProxyZone = null;\n              _this.testProxyZoneSpec = null;\n              ambientZone.scheduleMicroTask('jasmine.onComplete', fn);\n            };\n          }(attrs.onComplete);\n        }\n\n        var nativeSetTimeout = global[Zone.__symbol__('setTimeout')];\n\n        var nativeClearTimeout = global[Zone.__symbol__('clearTimeout')];\n\n        if (nativeSetTimeout) {\n          // should run setTimeout inside jasmine outside of zone\n          attrs.timeout = {\n            setTimeout: nativeSetTimeout ? nativeSetTimeout : global.setTimeout,\n            clearTimeout: nativeClearTimeout ? nativeClearTimeout : global.clearTimeout\n          };\n        } // create a userContext to hold the queueRunner itself\n        // so we can access the testProxy in it/xit/beforeEach ...\n\n\n        if (jasmine.UserContext) {\n          if (!attrs.userContext) {\n            attrs.userContext = new jasmine.UserContext();\n          }\n\n          attrs.userContext.queueRunner = this;\n        } else {\n          if (!attrs.userContext) {\n            attrs.userContext = {};\n          }\n\n          attrs.userContext.queueRunner = this;\n        } // patch attrs.onException\n\n\n        var onException = attrs.onException;\n\n        attrs.onException = function (error) {\n          if (error && error.message === 'Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.') {\n            // jasmine timeout, we can make the error message more\n            // reasonable to tell what tasks are pending\n            var proxyZoneSpec = this && this.testProxyZoneSpec;\n\n            if (proxyZoneSpec) {\n              var pendingTasksInfo = proxyZoneSpec.getAndClearPendingTasksInfo();\n\n              try {\n                // try catch here in case error.message is not writable\n                error.message += pendingTasksInfo;\n              } catch (err) {}\n            }\n          }\n\n          if (onException) {\n            onException.call(this, error);\n          }\n        };\n\n        _super.call(this, attrs);\n      }\n\n      ZoneQueueRunner.prototype.execute = function () {\n        var _this = this;\n\n        var zone = Zone.current;\n        var isChildOfAmbientZone = false;\n\n        while (zone) {\n          if (zone === ambientZone) {\n            isChildOfAmbientZone = true;\n            break;\n          }\n\n          zone = zone.parent;\n        }\n\n        if (!isChildOfAmbientZone) throw new Error('Unexpected Zone: ' + Zone.current.name); // This is the zone which will be used for running individual tests.\n        // It will be a proxy zone, so that the tests function can retroactively install\n        // different zones.\n        // Example:\n        //   - In beforeEach() do childZone = Zone.current.fork(...);\n        //   - In it() try to do fakeAsync(). The issue is that because the beforeEach forked the\n        //     zone outside of fakeAsync it will be able to escape the fakeAsync rules.\n        //   - Because ProxyZone is parent fo `childZone` fakeAsync can retroactively add\n        //     fakeAsync behavior to the childZone.\n\n        this.testProxyZoneSpec = new ProxyZoneSpec();\n        this.testProxyZone = ambientZone.fork(this.testProxyZoneSpec);\n\n        if (!Zone.currentTask) {\n          // if we are not running in a task then if someone would register a\n          // element.addEventListener and then calling element.click() the\n          // addEventListener callback would think that it is the top most task and would\n          // drain the microtask queue on element.click() which would be incorrect.\n          // For this reason we always force a task when running jasmine tests.\n          Zone.current.scheduleMicroTask('jasmine.execute().forceTask', function () {\n            return QueueRunner.prototype.execute.call(_this);\n          });\n        } else {\n          _super.prototype.execute.call(this);\n        }\n      };\n\n      return ZoneQueueRunner;\n    }(QueueRunner);\n  });\n});","map":{"version":3,"sources":["D:/angular-material-todo/node_modules/zone.js/dist/jasmine-patch.js"],"names":["factory","define","amd","Zone","__load_patch","global","api","__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","Error","jest","jasmine","SyncTestZoneSpec","ProxyZoneSpec","ambientZone","current","syncZone","fork","symbol","__symbol__","disablePatchingJasmineClock","enableAutoFakeAsyncWhenClockPatched","ignoreUnhandledRejection","globalErrors_1","GlobalErrors","instance","originalInstall","install","originalHandlers","process","listeners","r","apply","arguments","removeAllListeners","forEach","h","on","jasmineEnv","getEnv","methodName","originalJasmineFn","description","specDefinitions","call","wrapDescribeInZone","timeout","wrapTestInZone","originalClockFn_1","clock","originalTick_1","tick","fakeAsyncZoneSpec","get","originalMockDate_1","mockDate","dateTime","length","Date","setFakeBaseSystemTime","getTime","originalClockFn","FakeAsyncTestZoneSpec","originalCreateSpyObj_1","createSpyObj","args","Array","slice","propertyNames","spyObj","defineProperty_1","defineProperty","obj","attributes","assign","configurable","enumerable","describeBody","run","runInTestZone","testBody","applyThis","queueRunner","done","isClockInstalled","testProxyZoneSpec","testProxyZone","fakeAsyncModule","fakeAsync","QueueRunner","_super","ZoneQueueRunner","attrs","_this","onComplete","fn","scheduleMicroTask","nativeSetTimeout","nativeClearTimeout","setTimeout","clearTimeout","UserContext","userContext","onException","error","message","proxyZoneSpec","pendingTasksInfo","getAndClearPendingTasksInfo","err","execute","zone","isChildOfAmbientZone","parent","name","currentTask"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AACC,WAAUA,OAAV,EAAmB;AAChB,SAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAAvC,GAA6CD,MAAM,CAACD,OAAD,CAAnD,GACIA,OAAO,EADX;AAEH,CAHA,EAGE,YAAY;AACX;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;;AACIG,EAAAA,IAAI,CAACC,YAAL,CAAkB,SAAlB,EAA6B,UAAUC,MAAV,EAAkBF,IAAlB,EAAwBG,GAAxB,EAA6B;AACtD,QAAIC,SAAS,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC5B,WAAK,IAAIC,CAAT,IAAcD,CAAd,EACI,IAAIA,CAAC,CAACE,cAAF,CAAiBD,CAAjB,CAAJ,EACIF,CAAC,CAACE,CAAD,CAAD,GAAOD,CAAC,CAACC,CAAD,CAAR;;AACR,eAASE,EAAT,GAAc;AACV,aAAKC,WAAL,GAAmBL,CAAnB;AACH;;AACDA,MAAAA,CAAC,CAACM,SAAF,GAAcL,CAAC,KAAK,IAAN,GAAaM,MAAM,CAACC,MAAP,CAAcP,CAAd,CAAb,IAAkCG,EAAE,CAACE,SAAH,GAAeL,CAAC,CAACK,SAAlB,EAA8B,IAAIF,EAAJ,EAA/D,CAAd;AACH,KARD,CADsD,CAUtD;AACA;;;AACA,QAAI,CAACT,IAAL,EACI,MAAM,IAAIc,KAAJ,CAAU,kBAAV,CAAN;;AACJ,QAAI,OAAOC,IAAP,KAAgB,WAApB,EAAiC;AAC7B;AACA;AACA;AACH;;AACD,QAAI,OAAOC,OAAP,IAAkB,WAAlB,IAAiCA,OAAO,CAAC,gBAAD,CAA5C,EAAgE;AAC5D;AACH;;AACDA,IAAAA,OAAO,CAAC,gBAAD,CAAP,GAA4B,IAA5B;AACA,QAAIC,gBAAgB,GAAGjB,IAAI,CAAC,kBAAD,CAA3B;AACA,QAAIkB,aAAa,GAAGlB,IAAI,CAAC,eAAD,CAAxB;AACA,QAAI,CAACiB,gBAAL,EACI,MAAM,IAAIH,KAAJ,CAAU,2BAAV,CAAN;AACJ,QAAI,CAACI,aAAL,EACI,MAAM,IAAIJ,KAAJ,CAAU,wBAAV,CAAN;AACJ,QAAIK,WAAW,GAAGnB,IAAI,CAACoB,OAAvB,CA7BsD,CA8BtD;AACA;AACA;;AACA,QAAIC,QAAQ,GAAGF,WAAW,CAACG,IAAZ,CAAiB,IAAIL,gBAAJ,CAAqB,kBAArB,CAAjB,CAAf;AACA,QAAIM,MAAM,GAAGvB,IAAI,CAACwB,UAAlB,CAlCsD,CAmCtD;;AACA,QAAIC,2BAA2B,GAAGvB,MAAM,CAACqB,MAAM,CAAC,+BAAD,CAAP,CAAN,KAAoD,IAAtF,CApCsD,CAqCtD;AACA;AACA;;AACA,QAAIG,mCAAmC,GAAG,CAACD,2BAAD,KACpCvB,MAAM,CAACqB,MAAM,CAAC,oBAAD,CAAP,CAAN,KAAyC,IAA1C,IACIrB,MAAM,CAACqB,MAAM,CAAC,wCAAD,CAAP,CAAN,KAA6D,IAF5B,CAA1C;AAGA,QAAII,wBAAwB,GAAGzB,MAAM,CAACqB,MAAM,CAAC,0BAAD,CAAP,CAAN,KAA+C,IAA9E;;AACA,QAAI,CAACI,wBAAL,EAA+B;AAC3B,UAAIC,cAAc,GAAGZ,OAAO,CAACa,YAA7B;;AACA,UAAID,cAAc,IAAI,CAACZ,OAAO,CAACO,MAAM,CAAC,cAAD,CAAP,CAA9B,EAAwD;AACpDP,QAAAA,OAAO,CAACO,MAAM,CAAC,cAAD,CAAP,CAAP,GAAkCK,cAAlC;;AACAZ,QAAAA,OAAO,CAACa,YAAR,GAAuB,YAAY;AAC/B,cAAIC,QAAQ,GAAG,IAAIF,cAAJ,EAAf;AACA,cAAIG,eAAe,GAAGD,QAAQ,CAACE,OAA/B;;AACA,cAAID,eAAe,IAAI,CAACD,QAAQ,CAACP,MAAM,CAAC,SAAD,CAAP,CAAhC,EAAqD;AACjDO,YAAAA,QAAQ,CAACP,MAAM,CAAC,SAAD,CAAP,CAAR,GAA8BQ,eAA9B;;AACAD,YAAAA,QAAQ,CAACE,OAAT,GAAmB,YAAY;AAC3B,kBAAIC,gBAAgB,GAAGC,OAAO,CAACC,SAAR,CAAkB,oBAAlB,CAAvB;AACA,kBAAIC,CAAC,GAAGL,eAAe,CAACM,KAAhB,CAAsB,IAAtB,EAA4BC,SAA5B,CAAR;AACAJ,cAAAA,OAAO,CAACK,kBAAR,CAA2B,oBAA3B;;AACA,kBAAIN,gBAAJ,EAAsB;AAClBA,gBAAAA,gBAAgB,CAACO,OAAjB,CAAyB,UAAUC,CAAV,EAAa;AAAE,yBAAOP,OAAO,CAACQ,EAAR,CAAW,oBAAX,EAAiCD,CAAjC,CAAP;AAA6C,iBAArF;AACH;;AACD,qBAAOL,CAAP;AACH,aARD;AASH;;AACD,iBAAON,QAAP;AACH,SAhBD;AAiBH;AACJ,KAlEqD,CAmEtD;;;AACA,QAAIa,UAAU,GAAG3B,OAAO,CAAC4B,MAAR,EAAjB;AACA,KAAC,UAAD,EAAa,WAAb,EAA0B,WAA1B,EAAuCJ,OAAvC,CAA+C,UAAUK,UAAV,EAAsB;AACjE,UAAIC,iBAAiB,GAAGH,UAAU,CAACE,UAAD,CAAlC;;AACAF,MAAAA,UAAU,CAACE,UAAD,CAAV,GAAyB,UAAUE,WAAV,EAAuBC,eAAvB,EAAwC;AAC7D,eAAOF,iBAAiB,CAACG,IAAlB,CAAuB,IAAvB,EAA6BF,WAA7B,EAA0CG,kBAAkB,CAACF,eAAD,CAA5D,CAAP;AACH,OAFD;AAGH,KALD;AAMA,KAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqBR,OAArB,CAA6B,UAAUK,UAAV,EAAsB;AAC/C,UAAIC,iBAAiB,GAAGH,UAAU,CAACE,UAAD,CAAlC;AACAF,MAAAA,UAAU,CAACpB,MAAM,CAACsB,UAAD,CAAP,CAAV,GAAiCC,iBAAjC;;AACAH,MAAAA,UAAU,CAACE,UAAD,CAAV,GAAyB,UAAUE,WAAV,EAAuBC,eAAvB,EAAwCG,OAAxC,EAAiD;AACtEb,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAec,cAAc,CAACJ,eAAD,CAA7B;AACA,eAAOF,iBAAiB,CAACT,KAAlB,CAAwB,IAAxB,EAA8BC,SAA9B,CAAP;AACH,OAHD;AAIH,KAPD;AAQA,KAAC,YAAD,EAAe,WAAf,EAA4B,WAA5B,EAAyC,UAAzC,EAAqDE,OAArD,CAA6D,UAAUK,UAAV,EAAsB;AAC/E,UAAIC,iBAAiB,GAAGH,UAAU,CAACE,UAAD,CAAlC;AACAF,MAAAA,UAAU,CAACpB,MAAM,CAACsB,UAAD,CAAP,CAAV,GAAiCC,iBAAjC;;AACAH,MAAAA,UAAU,CAACE,UAAD,CAAV,GAAyB,UAAUG,eAAV,EAA2BG,OAA3B,EAAoC;AACzDb,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAec,cAAc,CAACJ,eAAD,CAA7B;AACA,eAAOF,iBAAiB,CAACT,KAAlB,CAAwB,IAAxB,EAA8BC,SAA9B,CAAP;AACH,OAHD;AAIH,KAPD;;AAQA,QAAI,CAACb,2BAAL,EAAkC;AAC9B;AACA;AACA,UAAI4B,iBAAiB,GAAIrC,OAAO,CAACO,MAAM,CAAC,OAAD,CAAP,CAAP,GAA2BP,OAAO,CAAC,OAAD,CAA3D;;AACAA,MAAAA,OAAO,CAAC,OAAD,CAAP,GAAmB,YAAY;AAC3B,YAAIsC,KAAK,GAAGD,iBAAiB,CAAChB,KAAlB,CAAwB,IAAxB,EAA8BC,SAA9B,CAAZ;;AACA,YAAI,CAACgB,KAAK,CAAC/B,MAAM,CAAC,SAAD,CAAP,CAAV,EAA+B;AAC3B+B,UAAAA,KAAK,CAAC/B,MAAM,CAAC,SAAD,CAAP,CAAL,GAA2BA,MAAM,CAAC,SAAD,CAAjC;AACA,cAAIgC,cAAc,GAAID,KAAK,CAAC/B,MAAM,CAAC,MAAD,CAAP,CAAL,GAAwB+B,KAAK,CAACE,IAApD;;AACAF,UAAAA,KAAK,CAACE,IAAN,GAAa,YAAY;AACrB,gBAAIC,iBAAiB,GAAGzD,IAAI,CAACoB,OAAL,CAAasC,GAAb,CAAiB,uBAAjB,CAAxB;;AACA,gBAAID,iBAAJ,EAAuB;AACnB,qBAAOA,iBAAiB,CAACD,IAAlB,CAAuBnB,KAAvB,CAA6BoB,iBAA7B,EAAgDnB,SAAhD,CAAP;AACH;;AACD,mBAAOiB,cAAc,CAAClB,KAAf,CAAqB,IAArB,EAA2BC,SAA3B,CAAP;AACH,WAND;;AAOA,cAAIqB,kBAAkB,GAAIL,KAAK,CAAC/B,MAAM,CAAC,UAAD,CAAP,CAAL,GAA4B+B,KAAK,CAACM,QAA5D;;AACAN,UAAAA,KAAK,CAACM,QAAN,GAAiB,YAAY;AACzB,gBAAIH,iBAAiB,GAAGzD,IAAI,CAACoB,OAAL,CAAasC,GAAb,CAAiB,uBAAjB,CAAxB;;AACA,gBAAID,iBAAJ,EAAuB;AACnB,kBAAII,QAAQ,GAAGvB,SAAS,CAACwB,MAAV,GAAmB,CAAnB,GAAuBxB,SAAS,CAAC,CAAD,CAAhC,GAAsC,IAAIyB,IAAJ,EAArD;AACA,qBAAON,iBAAiB,CAACO,qBAAlB,CAAwC3B,KAAxC,CAA8CoB,iBAA9C,EAAiEI,QAAQ,IAAI,OAAOA,QAAQ,CAACI,OAAhB,KAA4B,UAAxC,GAAqD,CAACJ,QAAQ,CAACI,OAAT,EAAD,CAArD,GACpE3B,SADG,CAAP;AAEH;;AACD,mBAAOqB,kBAAkB,CAACtB,KAAnB,CAAyB,IAAzB,EAA+BC,SAA/B,CAAP;AACH,WARD,CAX2B,CAoB3B;;;AACA,cAAIZ,mCAAJ,EAAyC;AACrC,aAAC,SAAD,EAAY,WAAZ,EAAyBc,OAAzB,CAAiC,UAAUK,UAAV,EAAsB;AACnD,kBAAIqB,eAAe,GAAIZ,KAAK,CAAC/B,MAAM,CAACsB,UAAD,CAAP,CAAL,GAA4BS,KAAK,CAACT,UAAD,CAAxD;;AACAS,cAAAA,KAAK,CAACT,UAAD,CAAL,GAAoB,YAAY;AAC5B,oBAAIsB,qBAAqB,GAAGnE,IAAI,CAAC,uBAAD,CAAhC;;AACA,oBAAImE,qBAAJ,EAA2B;AACvBnD,kBAAAA,OAAO,CAACO,MAAM,CAAC,gBAAD,CAAP,CAAP,GAAoC,cAAcsB,UAAlD;AACA;AACH;;AACD,uBAAOqB,eAAe,CAAC7B,KAAhB,CAAsB,IAAtB,EAA4BC,SAA5B,CAAP;AACH,eAPD;AAQH,aAVD;AAWH;AACJ;;AACD,eAAOgB,KAAP;AACH,OAtCD;AAuCH,KAtIqD,CAuItD;;;AACA,QAAI,CAACtC,OAAO,CAAChB,IAAI,CAACwB,UAAL,CAAgB,cAAhB,CAAD,CAAZ,EAA+C;AAC3C,UAAI4C,sBAAsB,GAAGpD,OAAO,CAACqD,YAArC;AACArD,MAAAA,OAAO,CAAChB,IAAI,CAACwB,UAAL,CAAgB,cAAhB,CAAD,CAAP,GAA2C4C,sBAA3C;;AACApD,MAAAA,OAAO,CAACqD,YAAR,GAAuB,YAAY;AAC/B,YAAIC,IAAI,GAAGC,KAAK,CAAC5D,SAAN,CAAgB6D,KAAhB,CAAsBvB,IAAtB,CAA2BX,SAA3B,CAAX;AACA,YAAImC,aAAa,GAAGH,IAAI,CAACR,MAAL,IAAe,CAAf,GAAmBQ,IAAI,CAAC,CAAD,CAAvB,GAA6B,IAAjD;AACA,YAAII,MAAJ;;AACA,YAAID,aAAJ,EAAmB;AACf,cAAIE,gBAAgB,GAAG/D,MAAM,CAACgE,cAA9B;;AACAhE,UAAAA,MAAM,CAACgE,cAAP,GAAwB,UAAUC,GAAV,EAAetE,CAAf,EAAkBuE,UAAlB,EAA8B;AAClD,mBAAOH,gBAAgB,CAAC1B,IAAjB,CAAsB,IAAtB,EAA4B4B,GAA5B,EAAiCtE,CAAjC,EAAoCK,MAAM,CAACmE,MAAP,CAAcnE,MAAM,CAACmE,MAAP,CAAc,EAAd,EAAkBD,UAAlB,CAAd,EAA6C;AAAEE,cAAAA,YAAY,EAAE,IAAhB;AAAsBC,cAAAA,UAAU,EAAE;AAAlC,aAA7C,CAApC,CAAP;AACH,WAFD;;AAGA,cAAI;AACAP,YAAAA,MAAM,GAAGN,sBAAsB,CAAC/B,KAAvB,CAA6B,IAA7B,EAAmCiC,IAAnC,CAAT;AACH,WAFD,SAGQ;AACJ1D,YAAAA,MAAM,CAACgE,cAAP,GAAwBD,gBAAxB;AACH;AACJ,SAXD,MAYK;AACDD,UAAAA,MAAM,GAAGN,sBAAsB,CAAC/B,KAAvB,CAA6B,IAA7B,EAAmCiC,IAAnC,CAAT;AACH;;AACD,eAAOI,MAAP;AACH,OApBD;AAqBH;AACD;AACR;AACA;AACA;;;AACQ,aAASxB,kBAAT,CAA4BgC,YAA5B,EAA0C;AACtC,aAAO,YAAY;AACf,eAAO7D,QAAQ,CAAC8D,GAAT,CAAaD,YAAb,EAA2B,IAA3B,EAAiC5C,SAAjC,CAAP;AACH,OAFD;AAGH;;AACD,aAAS8C,aAAT,CAAuBC,QAAvB,EAAiCC,SAAjC,EAA4CC,WAA5C,EAAyDC,IAAzD,EAA+D;AAC3D,UAAIC,gBAAgB,GAAG,CAAC,CAACzE,OAAO,CAACO,MAAM,CAAC,gBAAD,CAAP,CAAhC;AACA,UAAImE,iBAAiB,GAAGH,WAAW,CAACG,iBAApC;AACA,UAAIC,aAAa,GAAGJ,WAAW,CAACI,aAAhC;;AACA,UAAIF,gBAAgB,IAAI/D,mCAAxB,EAA6D;AACzD;AACA,YAAIkE,eAAe,GAAG5F,IAAI,CAACA,IAAI,CAACwB,UAAL,CAAgB,eAAhB,CAAD,CAA1B;;AACA,YAAIoE,eAAe,IAAI,OAAOA,eAAe,CAACC,SAAvB,KAAqC,UAA5D,EAAwE;AACpER,UAAAA,QAAQ,GAAGO,eAAe,CAACC,SAAhB,CAA0BR,QAA1B,CAAX;AACH;AACJ;;AACD,UAAIG,IAAJ,EAAU;AACN,eAAOG,aAAa,CAACR,GAAd,CAAkBE,QAAlB,EAA4BC,SAA5B,EAAuC,CAACE,IAAD,CAAvC,CAAP;AACH,OAFD,MAGK;AACD,eAAOG,aAAa,CAACR,GAAd,CAAkBE,QAAlB,EAA4BC,SAA5B,CAAP;AACH;AACJ;AACD;AACR;AACA;AACA;AACA;;;AACQ,aAASlC,cAAT,CAAwBiC,QAAxB,EAAkC;AAC9B;AACA;AACA;AACA,aAAQA,QAAQ,KAAKA,QAAQ,CAACvB,MAAT,GAAkB,UAAU0B,IAAV,EAAgB;AACnD,eAAOJ,aAAa,CAACC,QAAD,EAAW,IAAX,EAAiB,KAAKE,WAAtB,EAAmCC,IAAnC,CAApB;AACH,OAFoB,GAEjB,YAAY;AACZ,eAAOJ,aAAa,CAACC,QAAD,EAAW,IAAX,EAAiB,KAAKE,WAAtB,CAApB;AACH,OAJe,CAAhB;AAKH;;AACD,QAAIO,WAAW,GAAG9E,OAAO,CAAC8E,WAA1B;;AACA9E,IAAAA,OAAO,CAAC8E,WAAR,GAAuB,UAAUC,MAAV,EAAkB;AACrC3F,MAAAA,SAAS,CAAC4F,eAAD,EAAkBD,MAAlB,CAAT;;AACA,eAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,YAAIC,KAAK,GAAG,IAAZ;;AACA,YAAID,KAAK,CAACE,UAAV,EAAsB;AAClBF,UAAAA,KAAK,CAACE,UAAN,GAAoB,UAAUC,EAAV,EAAc;AAAE,mBAAO,YAAY;AACnD;AACAF,cAAAA,KAAK,CAACP,aAAN,GAAsB,IAAtB;AACAO,cAAAA,KAAK,CAACR,iBAAN,GAA0B,IAA1B;AACAvE,cAAAA,WAAW,CAACkF,iBAAZ,CAA8B,oBAA9B,EAAoDD,EAApD;AACH,aALmC;AAKhC,WALe,CAKbH,KAAK,CAACE,UALO,CAAnB;AAMH;;AACD,YAAIG,gBAAgB,GAAGpG,MAAM,CAACF,IAAI,CAACwB,UAAL,CAAgB,YAAhB,CAAD,CAA7B;;AACA,YAAI+E,kBAAkB,GAAGrG,MAAM,CAACF,IAAI,CAACwB,UAAL,CAAgB,cAAhB,CAAD,CAA/B;;AACA,YAAI8E,gBAAJ,EAAsB;AAClB;AACAL,UAAAA,KAAK,CAAC9C,OAAN,GAAgB;AACZqD,YAAAA,UAAU,EAAEF,gBAAgB,GAAGA,gBAAH,GAAsBpG,MAAM,CAACsG,UAD7C;AAEZC,YAAAA,YAAY,EAAEF,kBAAkB,GAAGA,kBAAH,GAAwBrG,MAAM,CAACuG;AAFnD,WAAhB;AAIH,SAlB2B,CAmB5B;AACA;;;AACA,YAAIzF,OAAO,CAAC0F,WAAZ,EAAyB;AACrB,cAAI,CAACT,KAAK,CAACU,WAAX,EAAwB;AACpBV,YAAAA,KAAK,CAACU,WAAN,GAAoB,IAAI3F,OAAO,CAAC0F,WAAZ,EAApB;AACH;;AACDT,UAAAA,KAAK,CAACU,WAAN,CAAkBpB,WAAlB,GAAgC,IAAhC;AACH,SALD,MAMK;AACD,cAAI,CAACU,KAAK,CAACU,WAAX,EAAwB;AACpBV,YAAAA,KAAK,CAACU,WAAN,GAAoB,EAApB;AACH;;AACDV,UAAAA,KAAK,CAACU,WAAN,CAAkBpB,WAAlB,GAAgC,IAAhC;AACH,SAhC2B,CAiC5B;;;AACA,YAAIqB,WAAW,GAAGX,KAAK,CAACW,WAAxB;;AACAX,QAAAA,KAAK,CAACW,WAAN,GAAoB,UAAUC,KAAV,EAAiB;AACjC,cAAIA,KAAK,IACLA,KAAK,CAACC,OAAN,KACI,wGAFR,EAEkH;AAC9G;AACA;AACA,gBAAIC,aAAa,GAAG,QAAQ,KAAKrB,iBAAjC;;AACA,gBAAIqB,aAAJ,EAAmB;AACf,kBAAIC,gBAAgB,GAAGD,aAAa,CAACE,2BAAd,EAAvB;;AACA,kBAAI;AACA;AACAJ,gBAAAA,KAAK,CAACC,OAAN,IAAiBE,gBAAjB;AACH,eAHD,CAIA,OAAOE,GAAP,EAAY,CACX;AACJ;AACJ;;AACD,cAAIN,WAAJ,EAAiB;AACbA,YAAAA,WAAW,CAAC3D,IAAZ,CAAiB,IAAjB,EAAuB4D,KAAvB;AACH;AACJ,SApBD;;AAqBAd,QAAAA,MAAM,CAAC9C,IAAP,CAAY,IAAZ,EAAkBgD,KAAlB;AACH;;AACDD,MAAAA,eAAe,CAACrF,SAAhB,CAA0BwG,OAA1B,GAAoC,YAAY;AAC5C,YAAIjB,KAAK,GAAG,IAAZ;;AACA,YAAIkB,IAAI,GAAGpH,IAAI,CAACoB,OAAhB;AACA,YAAIiG,oBAAoB,GAAG,KAA3B;;AACA,eAAOD,IAAP,EAAa;AACT,cAAIA,IAAI,KAAKjG,WAAb,EAA0B;AACtBkG,YAAAA,oBAAoB,GAAG,IAAvB;AACA;AACH;;AACDD,UAAAA,IAAI,GAAGA,IAAI,CAACE,MAAZ;AACH;;AACD,YAAI,CAACD,oBAAL,EACI,MAAM,IAAIvG,KAAJ,CAAU,sBAAsBd,IAAI,CAACoB,OAAL,CAAamG,IAA7C,CAAN,CAZwC,CAa5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,aAAK7B,iBAAL,GAAyB,IAAIxE,aAAJ,EAAzB;AACA,aAAKyE,aAAL,GAAqBxE,WAAW,CAACG,IAAZ,CAAiB,KAAKoE,iBAAtB,CAArB;;AACA,YAAI,CAAC1F,IAAI,CAACwH,WAAV,EAAuB;AACnB;AACA;AACA;AACA;AACA;AACAxH,UAAAA,IAAI,CAACoB,OAAL,CAAaiF,iBAAb,CAA+B,6BAA/B,EAA8D,YAAY;AAAE,mBAAOP,WAAW,CAACnF,SAAZ,CAAsBwG,OAAtB,CAA8BlE,IAA9B,CAAmCiD,KAAnC,CAAP;AAAmD,WAA/H;AACH,SAPD,MAQK;AACDH,UAAAA,MAAM,CAACpF,SAAP,CAAiBwG,OAAjB,CAAyBlE,IAAzB,CAA8B,IAA9B;AACH;AACJ,OAnCD;;AAoCA,aAAO+C,eAAP;AACH,KAjGqB,CAiGnBF,WAjGmB,CAAtB;AAkGH,GA9SD;AA+SH,CA3TA,CAAD","sourcesContent":["'use strict';\n/**\n * @license Angular v12.0.0-next.0\n * (c) 2010-2020 Google LLC. https://angular.io/\n * License: MIT\n */\n(function (factory) {\n    typeof define === 'function' && define.amd ? define(factory) :\n        factory();\n}((function () {\n    'use strict';\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    Zone.__load_patch('jasmine', function (global, Zone, api) {\n        var __extends = function (d, b) {\n            for (var p in b)\n                if (b.hasOwnProperty(p))\n                    d[p] = b[p];\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n        // Patch jasmine's describe/it/beforeEach/afterEach functions so test code always runs\n        // in a testZone (ProxyZone). (See: angular/zone.js#91 & angular/angular#10503)\n        if (!Zone)\n            throw new Error('Missing: zone.js');\n        if (typeof jest !== 'undefined') {\n            // return if jasmine is a light implementation inside jest\n            // in this case, we are running inside jest not jasmine\n            return;\n        }\n        if (typeof jasmine == 'undefined' || jasmine['__zone_patch__']) {\n            return;\n        }\n        jasmine['__zone_patch__'] = true;\n        var SyncTestZoneSpec = Zone['SyncTestZoneSpec'];\n        var ProxyZoneSpec = Zone['ProxyZoneSpec'];\n        if (!SyncTestZoneSpec)\n            throw new Error('Missing: SyncTestZoneSpec');\n        if (!ProxyZoneSpec)\n            throw new Error('Missing: ProxyZoneSpec');\n        var ambientZone = Zone.current;\n        // Create a synchronous-only zone in which to run `describe` blocks in order to raise an\n        // error if any asynchronous operations are attempted inside of a `describe` but outside of\n        // a `beforeEach` or `it`.\n        var syncZone = ambientZone.fork(new SyncTestZoneSpec('jasmine.describe'));\n        var symbol = Zone.__symbol__;\n        // whether patch jasmine clock when in fakeAsync\n        var disablePatchingJasmineClock = global[symbol('fakeAsyncDisablePatchingClock')] === true;\n        // the original variable name fakeAsyncPatchLock is not accurate, so the name will be\n        // fakeAsyncAutoFakeAsyncWhenClockPatched and if this enablePatchingJasmineClock is false, we also\n        // automatically disable the auto jump into fakeAsync feature\n        var enableAutoFakeAsyncWhenClockPatched = !disablePatchingJasmineClock &&\n            ((global[symbol('fakeAsyncPatchLock')] === true) ||\n                (global[symbol('fakeAsyncAutoFakeAsyncWhenClockPatched')] === true));\n        var ignoreUnhandledRejection = global[symbol('ignoreUnhandledRejection')] === true;\n        if (!ignoreUnhandledRejection) {\n            var globalErrors_1 = jasmine.GlobalErrors;\n            if (globalErrors_1 && !jasmine[symbol('GlobalErrors')]) {\n                jasmine[symbol('GlobalErrors')] = globalErrors_1;\n                jasmine.GlobalErrors = function () {\n                    var instance = new globalErrors_1();\n                    var originalInstall = instance.install;\n                    if (originalInstall && !instance[symbol('install')]) {\n                        instance[symbol('install')] = originalInstall;\n                        instance.install = function () {\n                            var originalHandlers = process.listeners('unhandledRejection');\n                            var r = originalInstall.apply(this, arguments);\n                            process.removeAllListeners('unhandledRejection');\n                            if (originalHandlers) {\n                                originalHandlers.forEach(function (h) { return process.on('unhandledRejection', h); });\n                            }\n                            return r;\n                        };\n                    }\n                    return instance;\n                };\n            }\n        }\n        // Monkey patch all of the jasmine DSL so that each function runs in appropriate zone.\n        var jasmineEnv = jasmine.getEnv();\n        ['describe', 'xdescribe', 'fdescribe'].forEach(function (methodName) {\n            var originalJasmineFn = jasmineEnv[methodName];\n            jasmineEnv[methodName] = function (description, specDefinitions) {\n                return originalJasmineFn.call(this, description, wrapDescribeInZone(specDefinitions));\n            };\n        });\n        ['it', 'xit', 'fit'].forEach(function (methodName) {\n            var originalJasmineFn = jasmineEnv[methodName];\n            jasmineEnv[symbol(methodName)] = originalJasmineFn;\n            jasmineEnv[methodName] = function (description, specDefinitions, timeout) {\n                arguments[1] = wrapTestInZone(specDefinitions);\n                return originalJasmineFn.apply(this, arguments);\n            };\n        });\n        ['beforeEach', 'afterEach', 'beforeAll', 'afterAll'].forEach(function (methodName) {\n            var originalJasmineFn = jasmineEnv[methodName];\n            jasmineEnv[symbol(methodName)] = originalJasmineFn;\n            jasmineEnv[methodName] = function (specDefinitions, timeout) {\n                arguments[0] = wrapTestInZone(specDefinitions);\n                return originalJasmineFn.apply(this, arguments);\n            };\n        });\n        if (!disablePatchingJasmineClock) {\n            // need to patch jasmine.clock().mockDate and jasmine.clock().tick() so\n            // they can work properly in FakeAsyncTest\n            var originalClockFn_1 = (jasmine[symbol('clock')] = jasmine['clock']);\n            jasmine['clock'] = function () {\n                var clock = originalClockFn_1.apply(this, arguments);\n                if (!clock[symbol('patched')]) {\n                    clock[symbol('patched')] = symbol('patched');\n                    var originalTick_1 = (clock[symbol('tick')] = clock.tick);\n                    clock.tick = function () {\n                        var fakeAsyncZoneSpec = Zone.current.get('FakeAsyncTestZoneSpec');\n                        if (fakeAsyncZoneSpec) {\n                            return fakeAsyncZoneSpec.tick.apply(fakeAsyncZoneSpec, arguments);\n                        }\n                        return originalTick_1.apply(this, arguments);\n                    };\n                    var originalMockDate_1 = (clock[symbol('mockDate')] = clock.mockDate);\n                    clock.mockDate = function () {\n                        var fakeAsyncZoneSpec = Zone.current.get('FakeAsyncTestZoneSpec');\n                        if (fakeAsyncZoneSpec) {\n                            var dateTime = arguments.length > 0 ? arguments[0] : new Date();\n                            return fakeAsyncZoneSpec.setFakeBaseSystemTime.apply(fakeAsyncZoneSpec, dateTime && typeof dateTime.getTime === 'function' ? [dateTime.getTime()] :\n                                arguments);\n                        }\n                        return originalMockDate_1.apply(this, arguments);\n                    };\n                    // for auto go into fakeAsync feature, we need the flag to enable it\n                    if (enableAutoFakeAsyncWhenClockPatched) {\n                        ['install', 'uninstall'].forEach(function (methodName) {\n                            var originalClockFn = (clock[symbol(methodName)] = clock[methodName]);\n                            clock[methodName] = function () {\n                                var FakeAsyncTestZoneSpec = Zone['FakeAsyncTestZoneSpec'];\n                                if (FakeAsyncTestZoneSpec) {\n                                    jasmine[symbol('clockInstalled')] = 'install' === methodName;\n                                    return;\n                                }\n                                return originalClockFn.apply(this, arguments);\n                            };\n                        });\n                    }\n                }\n                return clock;\n            };\n        }\n        // monkey patch createSpyObj to make properties enumerable to true\n        if (!jasmine[Zone.__symbol__('createSpyObj')]) {\n            var originalCreateSpyObj_1 = jasmine.createSpyObj;\n            jasmine[Zone.__symbol__('createSpyObj')] = originalCreateSpyObj_1;\n            jasmine.createSpyObj = function () {\n                var args = Array.prototype.slice.call(arguments);\n                var propertyNames = args.length >= 3 ? args[2] : null;\n                var spyObj;\n                if (propertyNames) {\n                    var defineProperty_1 = Object.defineProperty;\n                    Object.defineProperty = function (obj, p, attributes) {\n                        return defineProperty_1.call(this, obj, p, Object.assign(Object.assign({}, attributes), { configurable: true, enumerable: true }));\n                    };\n                    try {\n                        spyObj = originalCreateSpyObj_1.apply(this, args);\n                    }\n                    finally {\n                        Object.defineProperty = defineProperty_1;\n                    }\n                }\n                else {\n                    spyObj = originalCreateSpyObj_1.apply(this, args);\n                }\n                return spyObj;\n            };\n        }\n        /**\n         * Gets a function wrapping the body of a Jasmine `describe` block to execute in a\n         * synchronous-only zone.\n         */\n        function wrapDescribeInZone(describeBody) {\n            return function () {\n                return syncZone.run(describeBody, this, arguments);\n            };\n        }\n        function runInTestZone(testBody, applyThis, queueRunner, done) {\n            var isClockInstalled = !!jasmine[symbol('clockInstalled')];\n            var testProxyZoneSpec = queueRunner.testProxyZoneSpec;\n            var testProxyZone = queueRunner.testProxyZone;\n            if (isClockInstalled && enableAutoFakeAsyncWhenClockPatched) {\n                // auto run a fakeAsync\n                var fakeAsyncModule = Zone[Zone.__symbol__('fakeAsyncTest')];\n                if (fakeAsyncModule && typeof fakeAsyncModule.fakeAsync === 'function') {\n                    testBody = fakeAsyncModule.fakeAsync(testBody);\n                }\n            }\n            if (done) {\n                return testProxyZone.run(testBody, applyThis, [done]);\n            }\n            else {\n                return testProxyZone.run(testBody, applyThis);\n            }\n        }\n        /**\n         * Gets a function wrapping the body of a Jasmine `it/beforeEach/afterEach` block to\n         * execute in a ProxyZone zone.\n         * This will run in `testProxyZone`. The `testProxyZone` will be reset by the `ZoneQueueRunner`\n         */\n        function wrapTestInZone(testBody) {\n            // The `done` callback is only passed through if the function expects at least one argument.\n            // Note we have to make a function with correct number of arguments, otherwise jasmine will\n            // think that all functions are sync or async.\n            return (testBody && (testBody.length ? function (done) {\n                return runInTestZone(testBody, this, this.queueRunner, done);\n            } : function () {\n                return runInTestZone(testBody, this, this.queueRunner);\n            }));\n        }\n        var QueueRunner = jasmine.QueueRunner;\n        jasmine.QueueRunner = (function (_super) {\n            __extends(ZoneQueueRunner, _super);\n            function ZoneQueueRunner(attrs) {\n                var _this = this;\n                if (attrs.onComplete) {\n                    attrs.onComplete = (function (fn) { return function () {\n                        // All functions are done, clear the test zone.\n                        _this.testProxyZone = null;\n                        _this.testProxyZoneSpec = null;\n                        ambientZone.scheduleMicroTask('jasmine.onComplete', fn);\n                    }; })(attrs.onComplete);\n                }\n                var nativeSetTimeout = global[Zone.__symbol__('setTimeout')];\n                var nativeClearTimeout = global[Zone.__symbol__('clearTimeout')];\n                if (nativeSetTimeout) {\n                    // should run setTimeout inside jasmine outside of zone\n                    attrs.timeout = {\n                        setTimeout: nativeSetTimeout ? nativeSetTimeout : global.setTimeout,\n                        clearTimeout: nativeClearTimeout ? nativeClearTimeout : global.clearTimeout\n                    };\n                }\n                // create a userContext to hold the queueRunner itself\n                // so we can access the testProxy in it/xit/beforeEach ...\n                if (jasmine.UserContext) {\n                    if (!attrs.userContext) {\n                        attrs.userContext = new jasmine.UserContext();\n                    }\n                    attrs.userContext.queueRunner = this;\n                }\n                else {\n                    if (!attrs.userContext) {\n                        attrs.userContext = {};\n                    }\n                    attrs.userContext.queueRunner = this;\n                }\n                // patch attrs.onException\n                var onException = attrs.onException;\n                attrs.onException = function (error) {\n                    if (error &&\n                        error.message ===\n                            'Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.') {\n                        // jasmine timeout, we can make the error message more\n                        // reasonable to tell what tasks are pending\n                        var proxyZoneSpec = this && this.testProxyZoneSpec;\n                        if (proxyZoneSpec) {\n                            var pendingTasksInfo = proxyZoneSpec.getAndClearPendingTasksInfo();\n                            try {\n                                // try catch here in case error.message is not writable\n                                error.message += pendingTasksInfo;\n                            }\n                            catch (err) {\n                            }\n                        }\n                    }\n                    if (onException) {\n                        onException.call(this, error);\n                    }\n                };\n                _super.call(this, attrs);\n            }\n            ZoneQueueRunner.prototype.execute = function () {\n                var _this = this;\n                var zone = Zone.current;\n                var isChildOfAmbientZone = false;\n                while (zone) {\n                    if (zone === ambientZone) {\n                        isChildOfAmbientZone = true;\n                        break;\n                    }\n                    zone = zone.parent;\n                }\n                if (!isChildOfAmbientZone)\n                    throw new Error('Unexpected Zone: ' + Zone.current.name);\n                // This is the zone which will be used for running individual tests.\n                // It will be a proxy zone, so that the tests function can retroactively install\n                // different zones.\n                // Example:\n                //   - In beforeEach() do childZone = Zone.current.fork(...);\n                //   - In it() try to do fakeAsync(). The issue is that because the beforeEach forked the\n                //     zone outside of fakeAsync it will be able to escape the fakeAsync rules.\n                //   - Because ProxyZone is parent fo `childZone` fakeAsync can retroactively add\n                //     fakeAsync behavior to the childZone.\n                this.testProxyZoneSpec = new ProxyZoneSpec();\n                this.testProxyZone = ambientZone.fork(this.testProxyZoneSpec);\n                if (!Zone.currentTask) {\n                    // if we are not running in a task then if someone would register a\n                    // element.addEventListener and then calling element.click() the\n                    // addEventListener callback would think that it is the top most task and would\n                    // drain the microtask queue on element.click() which would be incorrect.\n                    // For this reason we always force a task when running jasmine tests.\n                    Zone.current.scheduleMicroTask('jasmine.execute().forceTask', function () { return QueueRunner.prototype.execute.call(_this); });\n                }\n                else {\n                    _super.prototype.execute.call(this);\n                }\n            };\n            return ZoneQueueRunner;\n        })(QueueRunner);\n    });\n})));\n"]},"metadata":{},"sourceType":"script"}